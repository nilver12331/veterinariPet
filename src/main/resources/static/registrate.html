<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/registrate.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;700&display=swap" rel="stylesheet"/>
  <title>Registrate</title>
</head>
<body>
<div class="container-form">
  <div class="information-left">
    <div class="info-childs">
      <h2>Registrate</h2>
      <p>
        Programa tus citas veterinarias, tanto virtuales como presenciales,
        de forma fácil y rápida para el cuidado de tu mascota.
      </p>
      <br>
      <br>
      <img src="svg/corriendo.svg" alt="Perrito" class="dog" />
    </div>
  </div>
  <div class="information-right">
    <div class="registromascota  p-4">
      <h2 class="text-center">Hay que conocernos!</h2>
      <form id="registrationForm" method="POST">
        <div class="mb-3">
          <label for="nombre" class="form-label">Ingresa tu nombres</label>
          <input type="text" id="nombre" name="nombre" class="form-control" required />
        </div>
        <div class="mb-3">
          <label for="apellidos" class="form-label">Ingresa tus apellidos</label>
          <input type="text" id="apellidos" name="peso" class="form-control" required />
        </div>
        <label for="documentoidentidad">Tipo de documento </label>
        <select id="documentoidentidad" class="bordes" required>
          <option value="" disabled selected>Seleccione</option>
          <option value="DNI">DNI</option>
          <option value="CC">Carnet de Extranjería</option>
          <option value="PSP">Pasaporte</option>
        </select>
        <div class="mb-3">
          <label for="numerodocu">N° de documento </label>
          <input
                  type="text"
                  id="numerodocu"
                  name="numero_documento"
                  class="bordes"
                  required
          />
        </div>
        <!-- campo direccion -->
        <div class="mb-3">
          <label for="txtdireccion">Direccion </label>
          <input
                  type="text"
                  id="txtdireccion"
                  name="txt-direccion"
                  class="bordes"
                  required
          />
        </div>
        <!-- campo Email -->
        <div class="mb-3">
          <label for="txtemail">Email </label>
          <input
                  type="email"
                  id="txtemail"
                  name="txt-email"
                  class="bordes"
                  required
          />
        </div>
        <div class="mb-3">
          <!--ingresar contraseña--->
          <br/>
          <div class="mb-3">
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" required />
          </div>
          <!-- Confirmar contraseña -->
          <div class="mb-3">
            <label for="confirmPassword">Confirmar Contraseña </label>
            <input
                    type="password"
                    id="confirmPassword"
                    name="confirmPassword"
                    required
            />
          </div>
        </div>
        <!-- campo telefono -->
        <div class="mb-3">
          <label for="txttelefono">Telefono </label>
          <input
                  type="text"
                  id="txttelefono"
                  name="txt-telefono"
                  class="bordes"
                  pattern="9[0-9]{8}"
                  maxlength="9"
                  required
          />
        </div>
        <br>
        <!--campos para Aceptar politicas-->
        <div class="terminos-condiciones">
          <div class="form-group">
            <input type="checkbox" name="terminos" required/>
            <label class="terminos">
              Acepto los Términos y Condiciones y la Política de Privacidad</label>
          </div>
          <div class="form-group">
            <input type="checkbox" name="politica_Veterinaria" />
            <label class="politica_Veterinaria"
            >Acepto recibir beneficios, ofertas, publicidad y novedades de PetGuardian</label>
          </div>
        </div>
        <br>
        <div class="button-container">
          <button type="submit" class="button">
            Enviar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<script>
       document.getElementById('registrationForm').addEventListener('submit', function(event) {
       event.preventDefault(); // Evita el envío del formulario de manera tradicional
       const formData = {
       nombre_cliente: document.getElementById('nombre').value,
       apellido_cliente: document.getElementById('apellidos').value,
       tipo_Documento: document.getElementById('documentoidentidad').value,
       numero_Documento: document.getElementById('numerodocu').value,
       direccion: document.getElementById('txtdireccion').value,
       email: document.getElementById('txtemail').value,
       contraseña: document.getElementById('password').value,
       telefono: document.getElementById('txttelefono').value,

       };

       // Envío de los datos como JSON
       fetch('/servicios/cliente', {
       method: 'POST',
       headers: {
       'Content-Type': 'application/json', // Especifica el tipo de contenido como JSON
       },
       body: JSON.stringify(formData), // Convierte el objeto a JSON
       })
       .then(response => {
       if (response.ok) {
       alert('Cuenta creada exitosamente');
       window.location.href="login.html";
       } else {
       alert('Error al crear la cuenta');
       }
       })
       .catch(error => {
       console.error('Error:', error);
       alert('Error al crear la cuenta');
       });
       });
</script>
</body>
</html>

